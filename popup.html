<!DOCTYPE html>
<html lang="en" class="theme-dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="WebScraping Intelligence Suite Enterprise v3.4.0 - Advanced multi-agent analysis dashboard for web scraping and AI platform monitoring">
    <meta name="keywords" content="webscraping, intelligence, ai, analysis, monitoring, enterprise">
    <meta name="author" content="Framework Multi-Agente Development Team">
    
    <title>WebScraping Intelligence Suite Enterprise v3.4.0</title>
    
    <!-- ================================================================== -->
    <!-- POPUP.HTML v3.4.0 - ENTERPRISE DASHBOARD INTERFACE               -->
    <!-- ================================================================== -->
    
    <!--
    WebScraping Intelligence Suite - Popup Interface v3.4.0 Enterprise
    Enterprise-grade dashboard interface for Chrome Extension
    
    MEJORAS ENTERPRISE v3.4.0:
    - Component-based HTML architecture con Web Components ready
    - Responsive design con Flexbox + CSS Grid layouts
    - Enterprise CSS system con Custom Properties para theming
    - Semantic HTML5 con ARIA accessibility completo
    - Dark/Light mode support con system preference detection
    - Real-time Dashboard para Connection Monitor (235+ conexiones)
    - Multi-Agent Status Grid (8 agentes especializados)
    - Platform-specific UI adaptation (Gemini/OpenAI/Anthropic)
    - Performance Metrics Panel con enterprise indicators
    - Advanced Export Interface con multiple formats
    - Modal system para Settings y configuración
    - Toast Notifications system para user feedback
    - Keyboard shortcuts support (Ctrl+Shift+A/M/S/E)
    - Side Panel integration ready
    
    @author Framework Multi-Agente Development Team
    @version 3.4.0
    @date 2025-09-20
    -->
    
    <!-- ================================================================== -->
    <!-- 🎨 ENTERPRISE CSS SYSTEM v3.4.0                                   -->
    <!-- ================================================================== -->
    
    <style>
        /* ============================================================== */
        /* CSS CUSTOM PROPERTIES - ENTERPRISE THEMING SYSTEM            */
        /* ============================================================== */
        :root {
            /* Color Palette - Light Theme */
            --color-primary-light: #2563eb;
            --color-secondary-light: #64748b;
            --color-success-light: #059669;
            --color-warning-light: #d97706;
            --color-error-light: #dc2626;
            --color-background-light: #ffffff;
            --color-surface-light: #f8fafc;
            --color-text-light: #1e293b;
            --color-text-secondary-light: #64748b;
            --color-border-light: #e2e8f0;
            
            /* Color Palette - Dark Theme */
            --color-primary-dark: #3b82f6;
            --color-secondary-dark: #94a3b8;
            --color-success-dark: #10b981;
            --color-warning-dark: #f59e0b;
            --color-error-dark: #ef4444;
            --color-background-dark: #0f172a;
            --color-surface-dark: #1e293b;
            --color-text-dark: #f1f5f9;
            --color-text-secondary-dark: #cbd5e1;
            --color-border-dark: #334155;
            
            /* Active Theme Colors (Default: Dark) */
            --color-primary: var(--color-primary-dark);
            --color-secondary: var(--color-secondary-dark);
            --color-success: var(--color-success-dark);
            --color-warning: var(--color-warning-dark);
            --color-error: var(--color-error-dark);
            --color-background: var(--color-background-dark);
            --color-surface: var(--color-surface-dark);
            --color-text: var(--color-text-dark);
            --color-text-secondary: var(--color-text-secondary-dark);
            --color-border: var(--color-border-dark);
            
            /* Platform Colors */
            --color-platform-gemini: #4285f4;
            --color-platform-openai: #10a37f;
            --color-platform-anthropic: #d97706;
            --color-platform-deepseek: #7c3aed;
            --color-platform-qwen: #f59e0b;
            --color-platform-generic: #6b7280;
            
            /* Spacing Scale */
            --spacing-xs: 0.25rem;  /* 4px */
            --spacing-sm: 0.5rem;   /* 8px */
            --spacing-md: 1rem;     /* 16px */
            --spacing-lg: 1.5rem;   /* 24px */
            --spacing-xl: 2rem;     /* 32px */
            --spacing-2xl: 3rem;    /* 48px */
            
            /* Typography Scale */
            --font-size-xs: 0.75rem;   /* 12px */
            --font-size-sm: 0.875rem;  /* 14px */
            --font-size-base: 1rem;    /* 16px */
            --font-size-lg: 1.125rem;  /* 18px */
            --font-size-xl: 1.25rem;   /* 20px */
            --font-size-2xl: 1.5rem;   /* 24px */
            --font-size-3xl: 1.875rem; /* 30px */
            
            /* Font Weights */
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            
            /* Border Radius */
            --border-radius-sm: 0.375rem;  /* 6px */
            --border-radius-md: 0.5rem;    /* 8px */
            --border-radius-lg: 0.75rem;   /* 12px */
            --border-radius-xl: 1rem;      /* 16px */
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            
            /* Animation */
            --animation-duration: 0.3s;
            --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Layout */
            --popup-width: 800px;
            --popup-height: 600px;
            --sidebar-width: 240px;
            --sidebar-collapsed-width: 60px;
        }
        /* Light Theme Overrides */
        .theme-light {
            --color-primary: var(--color-primary-light);
            --color-secondary: var(--color-secondary-light);
            --color-success: var(--color-success-light);
            --color-warning: var(--color-warning-light);
            --color-error: var(--color-error-light);
            --color-background: var(--color-background-light);
            --color-surface: var(--color-surface-light);
            --color-text: var(--color-text-light);
            --color-text-secondary: var(--color-text-secondary-light);
            --color-border: var(--color-border-light);
        }
        
        /* ============================================================== */
        /* RESET & BASE STYLES                                           */
        /* ============================================================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            font-size: 16px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--color-background);
            color: var(--color-text);
            width: var(--popup-width);
            height: var(--popup-height);
            overflow: hidden;
            transition: background-color var(--animation-duration) var(--animation-easing);
        }
        
        /* ============================================================== */
        /* LAYOUT COMPONENTS                                             */
        /* ============================================================== */
        
        .app-container {
            display: flex;
            height: 100vh;
            width: 100%;
        }
        
        .sidebar {
            width: var(--sidebar-width);
            min-width: var(--sidebar-width);
            background-color: var(--color-surface);
            border-right: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
            transition: width var(--animation-duration) var(--animation-easing);
        }
        
        .sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
            min-width: var(--sidebar-collapsed-width);
        }
        
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .status-bar {
            height: 40px;
            background-color: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            align-items: center;
            padding: 0 var(--spacing-md);
            font-size: var(--font-size-sm);
            gap: var(--spacing-md);
        }
        
        .content-area {
            flex: 1;
            padding: var(--spacing-lg);
            overflow-y: auto;
            background-color: var(--color-background);
        }
        
        /* ============================================================== */
        /* SIDEBAR COMPONENTS                                            */
        /* ============================================================== */
        
        .sidebar-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .sidebar.collapsed .sidebar-header {
            padding: var(--spacing-md);
            justify-content: center;
        }
        
        .logo {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }
        
        .sidebar.collapsed .logo-text {
            display: none;
        }
        
        .sidebar-nav {
            flex: 1;
            padding: var(--spacing-md) 0;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: var(--spacing-md) var(--spacing-lg);
            color: var(--color-text-secondary);
            text-decoration: none;
            transition: all var(--animation-duration) var(--animation-easing);
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: var(--font-size-sm);
        }
        
        .sidebar.collapsed .nav-item {
            padding: var(--spacing-md);
            justify-content: center;
        }
        
        .nav-item:hover {
            background-color: var(--color-background);
            color: var(--color-text);
        }
        
        .nav-item.active {
            background-color: var(--color-primary);
            color: white;
        }
        
        .nav-icon {
            margin-right: var(--spacing-md);
            font-size: var(--font-size-lg);
            min-width: 20px;
        }
        
        .sidebar.collapsed .nav-text {
            display: none;
        }
        
        .sidebar-footer {
            padding: var(--spacing-md);
            border-top: 1px solid var(--color-border);
            display: flex;
            justify-content: center;
        }
        
        /* ============================================================== */
        /* BUTTON COMPONENTS                                             */
        /* ============================================================== */
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            border: none;
            border-radius: var(--border-radius-md);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--animation-duration) var(--animation-easing);
            text-decoration: none;
            min-width: 44px; /* Accessibility: minimum touch target */
            min-height: 44px;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-primary {
            background-color: var(--color-primary);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            background-color: color-mix(in srgb, var(--color-primary) 90%, black);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-secondary {
            background-color: var(--color-surface);
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }
        
        .btn-secondary:hover:not(:disabled) {
            background-color: var(--color-background);
            border-color: var(--color-text-secondary);
        }
        
        .btn-success {
            background-color: var(--color-success);
            color: white;
        }
        
        .btn-warning {
            background-color: var(--color-warning);
            color: white;
        }
        
        .btn-error {
            background-color: var(--color-error);
            color: white;
        }
        
        .btn-sm {
            padding: var(--spacing-xs) var(--spacing-sm);
            font-size: var(--font-size-xs);
            min-width: 36px;
            min-height: 36px;
        }
        
        .btn-lg {
            padding: var(--spacing-md) var(--spacing-lg);
            font-size: var(--font-size-base);
            min-height: 48px;
        }
        
        /* ============================================================== */
        /* CARD COMPONENTS                                               */
        /* ============================================================== */
        
        .card {
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-sm);
            transition: all var(--animation-duration) var(--animation-easing);
        }
        
        .card:hover {
            box-shadow: var(--shadow-md);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }
        
        .card-title {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-semibold);
            color: var(--color-text);
        }
        
        .card-content {
            color: var(--color-text-secondary);
            line-height: 1.6;
        }
        
        /* ============================================================== */
        /* GRID LAYOUTS                                                  */
        /* ============================================================== */
        
        .grid {
            display: grid;
            gap: var(--spacing-md);
        }
        
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
        
        /* ============================================================== */
        /* STATUS INDICATORS                                             */
        /* ============================================================== */
        
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-medium);
        }
        
        .status-online {
            background-color: color-mix(in srgb, var(--color-success) 20%, transparent);
            color: var(--color-success);
        }
        
        .status-offline {
            background-color: color-mix(in srgb, var(--color-error) 20%, transparent);
            color: var(--color-error);
        }
        
        .status-warning {
            background-color: color-mix(in srgb, var(--color-warning) 20%, transparent);
            color: var(--color-warning);
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: currentColor;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ============================================================== */
        /* AGENT COMPONENTS                                              */
        /* ============================================================== */
        
        .agent-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }
        
        .agent-card {
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-md);
            transition: all var(--animation-duration) var(--animation-easing);
            position: relative;
            overflow: hidden;
        }
        
        .agent-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .agent-card.status-active {
            border-color: var(--color-success);
            box-shadow: 0 0 0 1px color-mix(in srgb, var(--color-success) 30%, transparent);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }
        
        .agent-icon {
            font-size: var(--font-size-xl);
            min-width: 32px;
        }
        
        .agent-name {
            font-weight: var(--font-weight-semibold);
            color: var(--color-text);
            font-size: var(--font-size-sm);
        }
        
        .agent-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }
        
        .agent-confidence {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }
        
        .agent-specialty {
            font-size: var(--font-size-xs);
            color: var(--color-text-secondary);
            font-style: italic;
        }
        
        .agent-provider {
            font-size: var(--font-size-xs);
            color: var(--color-text-secondary);
            margin-top: var(--spacing-xs);
        }
        
        /* ============================================================== */
        /* PERFORMANCE METRICS                                           */
        /* ============================================================== */
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
        }
        
        .metric-card {
            text-align: center;
            padding: var(--spacing-lg);
            background-color: var(--color-surface);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--color-border);
        }
        
        .metric-value {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
            margin-bottom: var(--spacing-xs);
        }
        
        .metric-label {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* ============================================================== */
        /* CONNECTION MONITOR                                            */
        /* ============================================================== */
        
        .connection-status {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }
        
        .connection-count {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-success);
        }
        
        .connection-details {
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
        }
        
        /* ============================================================== */
        /* MODAL COMPONENTS                                              */
        /* ============================================================== */
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal-content {
            background-color: var(--color-surface);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalSlideIn var(--animation-duration) var(--animation-easing);
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-border);
        }
        
        .modal-title {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            color: var(--color-text);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: var(--font-size-xl);
            color: var(--color-text-secondary);
            cursor: pointer;
            padding: var(--spacing-xs);
            border-radius: var(--border-radius-sm);
            transition: all var(--animation-duration) var(--animation-easing);
        }
        
        .modal-close:hover {
            background-color: var(--color-background);
            color: var(--color-text);
        }
        
        /* ============================================================== */
        /* NOTIFICATIONS                                                 */
        /* ============================================================== */
        
        .notifications-container {
            position: fixed;
            top: var(--spacing-lg);
            right: var(--spacing-lg);
            z-index: 1100;
            max-width: 400px;
        }
        
        .notification {
            background-color: var(--color-surface);
            border-left: 4px solid var(--color-primary);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
            box-shadow: var(--shadow-lg);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            animation: notificationSlideIn var(--animation-duration) var(--animation-easing);
        }
        
        .notification-success {
            border-left-color: var(--color-success);
        }
        
        .notification-error {
            border-left-color: var(--color-error);
        }
        
        .notification-warning {
            border-left-color: var(--color-warning);
        }
        
        @keyframes notificationSlideIn {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .notification-content {
            flex: 1;
            font-size: var(--font-size-sm);
            color: var(--color-text);
        }
        
        .notification-close {
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            padding: var(--spacing-xs);
            margin-left: var(--spacing-sm);
            font-size: var(--font-size-lg);
            line-height: 1;
        }
        
        /* ============================================================== */
        /* LOADING STATES                                               */
        /* ============================================================== */
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-border);
            border-radius: 50%;
            border-top-color: var(--color-primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .skeleton {
            background: linear-gradient(90deg, var(--color-surface) 25%, var(--color-background) 50%, var(--color-surface) 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: var(--border-radius-sm);
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* ============================================================== */
        /* RESPONSIVE DESIGN                                            */
        /* ============================================================== */
        
        @media (max-width: 768px) {
            :root {
                --popup-width: 100vw;
                --popup-height: 100vh;
                --sidebar-width: 200px;
            }
            
            .sidebar {
                position: absolute;
                top: 0;
                left: -100%;
                height: 100%;
                z-index: 100;
                transition: left var(--animation-duration) var(--animation-easing);
            }
            
            .sidebar.open {
                left: 0;
            }
            
            .agent-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                padding: var(--spacing-lg);
            }
        }
        
        /* ============================================================== */
        /* ACCESSIBILITY ENHANCEMENTS                                   */
        /* ============================================================== */
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .focus-visible:focus {
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --color-border: currentColor;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
        
        /* ============================================================== */
        /* UTILITY CLASSES                                              */
        /* ============================================================== */
        
        .hidden { display: none !important; }
        .visible { display: block !important; }
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .font-bold { font-weight: var(--font-weight-bold); }
        .font-semibold { font-weight: var(--font-weight-semibold); }
        .text-primary { color: var(--color-primary); }
        .text-success { color: var(--color-success); }
        .text-warning { color: var(--color-warning); }
        .text-error { color: var(--color-error); }
        .mb-0 { margin-bottom: 0; }
        .mb-sm { margin-bottom: var(--spacing-sm); }
        .mb-md { margin-bottom: var(--spacing-md); }
        .mb-lg { margin-bottom: var(--spacing-lg); }
        .mt-0 { margin-top: 0; }
        .mt-sm { margin-top: var(--spacing-sm); }
        .mt-md { margin-top: var(--spacing-md); }
        .mt-lg { margin-top: var(--spacing-lg); }
        .p-0 { padding: 0; }
        .p-sm { padding: var(--spacing-sm); }
        .p-md { padding: var(--spacing-md); }
        .p-lg { padding: var(--spacing-lg); }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .gap-sm { gap: var(--spacing-sm); }
        .gap-md { gap: var(--spacing-md); }
        .gap-lg { gap: var(--spacing-lg); }
    </style>
</head>

<body>
    <!-- ================================================================== -->
    <!-- MAIN APPLICATION CONTAINER                                         -->
    <!-- ================================================================== -->
    
    <div id="app" class="app-container" role="main">
        
        <!-- ============================================================== -->
        <!-- SIDEBAR NAVIGATION                                            -->
        <!-- ============================================================== -->
        
        <aside class="sidebar" role="navigation" aria-label="Main navigation">
            <div class="sidebar-header">
                <div class="logo">
                    🚀 <span class="logo-text">WS Suite</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <button class="nav-item active focus-visible" data-tab="dashboard" aria-label="Dashboard">
                    <span class="nav-icon">📊</span>
                    <span class="nav-text">Dashboard</span>
                </button>
                
                <button class="nav-item focus-visible" data-tab="agents" aria-label="Multi-Agent Status">
                    <span class="nav-icon">🤖</span>
                    <span class="nav-text">Agents</span>
                </button>
                
                <button class="nav-item focus-visible" data-tab="connections" aria-label="Connection Monitor">
                    <span class="nav-icon">📡</span>
                    <span class="nav-text">Connections</span>
                </button>
                
                <button class="nav-item focus-visible" data-tab="performance" aria-label="Performance Metrics">
                    <span class="nav-icon">⚡</span>
                    <span class="nav-text">Performance</span>
                </button>
                
                <button class="nav-item focus-visible" data-tab="export" aria-label="Export Results">
                    <span class="nav-icon">📤</span>
                    <span class="nav-text">Export</span>
                </button>
                
                <button class="nav-item focus-visible" data-tab="settings" aria-label="Settings">
                    <span class="nav-icon">⚙️</span>
                    <span class="nav-text">Settings</span>
                </button>
            </nav>
            
            <div class="sidebar-footer">
                <button class="btn btn-sm btn-secondary focus-visible" data-action="toggle-sidebar" aria-label="Toggle sidebar">
                    <span>📐</span>
                </button>
                <button class="btn btn-sm btn-secondary focus-visible" data-action="toggle-theme" aria-label="Toggle theme">
                    <span>🌓</span>
                </button>
            </div>
        </aside>
        
        <!-- ============================================================== -->
        <!-- MAIN CONTENT AREA                                             -->
        <!-- ============================================================== -->
        
        <main class="main-content">
            
            <!-- Status Bar -->
            <div class="status-bar" role="status" aria-live="polite">
                <div class="status-indicator status-online">
                    <div class="status-dot"></div>
                    <span>Extension Active</span>
                </div>
                
                <div class="status-indicator" id="connection-status">
                    <span>📡 Monitor: Inactive</span>
                </div>
                
                <div class="status-indicator" id="connections-count">
                    <span>🔗 Connections: 0</span>
                </div>
                
                <div class="status-indicator" id="analysis-duration">
                    <span>⏱️ Duration: 0s</span>
                </div>
                
                <div style="margin-left: auto;" id="platform-indicator">
                    <span class="status-indicator">🔷 Platform: Auto-detect</span>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="content-area">
                
                <!-- ============================================================ -->
                <!-- DASHBOARD TAB CONTENT                                       -->
                <!-- ============================================================ -->
                
                <div id="dashboard-tab" class="tab-content" role="tabpanel" aria-labelledby="dashboard-nav">
                    
                    <!-- Main Actions -->
                    <div class="card mb-lg">
                        <div class="card-header">
                            <h2 class="card-title">🚀 WebScraping Intelligence Suite Enterprise v3.4.0</h2>
                        </div>
                        
                        <div class="card-content">
                            <p class="mb-lg text-center">
                                Enterprise-grade multi-agent analysis system with real-time connection monitoring and advanced AI platform integration.
                            </p>
                            
                            <div class="flex gap-md justify-center mb-lg">
                                <button id="start-analysis-btn" class="btn btn-primary btn-lg focus-visible" 
                                        data-action="start-analysis" 
                                        aria-label="Start multi-agent analysis (Ctrl+Shift+A)">
                                    <span class="loading-spinner hidden" aria-hidden="true"></span>
                                    <span class="btn-text">🚀 Start Multi-Agent Analysis</span>
                                </button>
                                
                                <button id="toggle-monitor-btn" class="btn btn-secondary btn-lg focus-visible" 
                                        data-action="toggle-connection-monitor" 
                                        aria-label="Toggle connection monitor (Ctrl+Shift+M)">
                                    <span>🟢 Start Monitor</span>
                                </button>
                            </div>
                            
                            <div class="flex gap-md justify-center">
                                <button class="btn btn-secondary focus-visible" 
                                        data-action="export-results" 
                                        data-data='{"format":"json"}' 
                                        aria-label="Export results (Ctrl+Shift+E)">
                                    📥 Export JSON
                                </button>
                                
                                <button class="btn btn-secondary focus-visible" 
                                        data-action="open-sidepanel" 
                                        aria-label="Open side panel (Ctrl+Shift+S)">
                                    📋 Side Panel
                                </button>
                                
                                <button class="btn btn-secondary focus-visible" 
                                        data-action="clear-history" 
                                        aria-label="Clear analysis history">
                                    🗑️ Clear History
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Connection Monitor Overview -->
                    <div class="card mb-lg">
                        <div class="card-header">
                            <h3 class="card-title">📡 Connection Monitor Overview</h3>
                            <div class="connection-status">
                                <div class="connection-count" id="dashboard-connection-count">0</div>
                                <div class="connection-details">connections captured</div>
                            </div>
                        </div>
                        
                        <div class="card-content">
                            <div class="metrics-grid">
                                <div class="metric-card">
                                    <div class="metric-value" id="dashboard-success-rate">0%</div>
                                    <div class="metric-label">Success Rate</div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-value" id="dashboard-avg-response">0ms</div>
                                    <div class="metric-label">Avg Response</div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-value" id="dashboard-active-agents">0</div>
                                    <div class="metric-label">Active Agents</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Status Grid -->
                    <div class="grid grid-cols-2">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">🛡️ Security Status</h4>
                            </div>
                            <div class="card-content">
                                <div class="status-indicator status-online mb-sm">
                                    <div class="status-dot"></div>
                                    <span>Security Layer Active</span>
                                </div>
                                <div class="text-sm" id="security-summary">
                                    Data validation and sanitization enabled
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">⚡ Performance</h4>
                            </div>
                            <div class="card-content">
                                <div class="status-indicator status-online mb-sm">
                                    <div class="status-dot"></div>
                                    <span>Optimal Performance</span>
                                </div>
                                <div class="text-sm" id="performance-summary">
                                    All systems operating within normal parameters
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ============================================================ -->
                <!-- AGENTS TAB CONTENT                                          -->
                <!-- ============================================================ -->
                
                <div id="agents-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="agents-nav">
                    <div class="card mb-lg">
                        <div class="card-header">
                            <h2 class="card-title">🤖 Multi-Agent Status Dashboard</h2>
                            <div class="flex gap-sm">
                                <div class="status-indicator status-online">
                                    <span id="active-agents-count">0</span> Active
                                </div>
                                <div class="status-indicator">
                                    <span id="total-agents-count">8</span> Total
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-content">
                            <div class="agent-grid" id="agents-grid">
                                <!-- Agent cards will be dynamically populated -->
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                                <div class="skeleton" style="height: 120px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ============================================================ -->
                <!-- CONNECTIONS TAB CONTENT                                     -->
                <!-- ============================================================ -->
                
                <div id="connections-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="connections-nav">
                    <div class="card mb-lg">
                        <div class="card-header">
                            <h2 class="card-title">📡 Connection Monitor</h2>
                            <button class="btn btn-primary" data-action="refresh-connections">
                                🔄 Refresh
                            </button>
                        </div>
                        
                        <div class="card-content">
                            <div class="connection-status mb-lg">
                                <div class="connection-count" id="connections-total">0</div>
                                <div class="connection-details">total connections monitored</div>
                            </div>
                            
                            <div id="connections-list" class="text-center text-secondary">
                                <div class="skeleton mb-sm" style="height: 40px;"></div>
                                <div class="skeleton mb-sm" style="height: 40px;"></div>
                                <div class="skeleton mb-sm" style="height: 40px;"></div>
                                <p>Start Connection Monitor to view real-time network activity</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ============================================================ -->
                <!-- PERFORMANCE TAB CONTENT                                     -->
                <!-- ============================================================ -->
                
                <div id="performance-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="performance-nav">
                    <div class="grid grid-cols-1 gap-lg">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">⚡ System Performance Metrics</h2>
                            </div>
                            
                            <div class="card-content">
                                <div class="metrics-grid" id="performance-metrics">
                                    <div class="metric-card">
                                        <div class="metric-value skeleton" style="height: 32px; width: 80px; margin: 0 auto;"></div>
                                        <div class="metric-label">Memory Usage</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value skeleton" style="height: 32px; width: 60px; margin: 0 auto;"></div>
                                        <div class="metric-label">Render Time</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value skeleton" style="height: 32px; width: 40px; margin: 0 auto;"></div>
                                        <div class="metric-label">CPU Cores</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value skeleton" style="height: 32px; width: 70px; margin: 0 auto;"></div>
                                        <div class="metric-label">Extensions</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">📊 Communication Stats</h3>
                            </div>
                            
                            <div class="card-content">
                                <div class="grid grid-cols-2 gap-md">
                                    <div>
                                        <div class="text-lg font-semibold text-primary" id="total-requests">0</div>
                                        <div class="text-sm text-secondary">Total Requests</div>
                                    </div>
                                    <div>
                                        <div class="text-lg font-semibold text-success" id="successful-requests">0</div>
                                        <div class="text-sm text-secondary">Successful</div>
                                    </div>
                                    <div>
                                        <div class="text-lg font-semibold text-error" id="failed-requests">0</div>
                                        <div class="text-sm text-secondary">Failed</div>
                                    </div>
                                    <div>
                                        <div class="text-lg font-semibold text-warning" id="avg-latency">0ms</div>
                                        <div class="text-sm text-secondary">Avg Latency</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ============================================================ -->
                <!-- EXPORT TAB CONTENT                                          -->
                <!-- ============================================================ -->
                
                <div id="export-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="export-nav">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">📤 Export Analysis Results</h2>
                        </div>
                        
                        <div class="card-content">
                            <p class="mb-lg text-center">
                                Export your analysis results and connection data in multiple formats for further processing or reporting.
                            </p>
                            
                            <div class="grid grid-cols-2 gap-md mb-lg">
                                <button class="btn btn-primary btn-lg focus-visible" 
                                        data-action="export-results" 
                                        data-data='{"format":"json"}'>
                                    📄 Export JSON
                                    <span class="text-xs block">Structured data format</span>
                                </button>
                                
                                <button class="btn btn-primary btn-lg focus-visible" 
                                        data-action="export-results" 
                                        data-data='{"format":"csv"}'>
                                    📊 Export CSV
                                    <span class="text-xs block">Spreadsheet compatible</span>
                                </button>
                                
                                <button class="btn btn-primary btn-lg focus-visible" 
                                        data-action="export-results" 
                                        data-data='{"format":"pdf"}'>
                                    📑 Export PDF
                                    <span class="text-xs block">Professional report</span>
                                </button>
                                
                                <button class="btn btn-primary btn-lg focus-visible" 
                                        data-action="export-results" 
                                        data-data='{"format":"xlsx"}'>
                                    📈 Export Excel
                                    <span class="text-xs block">Advanced spreadsheet</span>
                                </button>
                            </div>
                            
                            <div class="text-center">
                                <div class="text-sm text-secondary mb-sm">Export includes:</div>
                                <div class="flex gap-md justify-center text-xs">
                                    <span>• Analysis Results</span>
                                    <span>• Connection Data</span>
                                    <span>• Agent Status</span>
                                    <span>• Performance Metrics</span>
                                    <span>• Timestamps</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ============================================================ -->
                <!-- SETTINGS TAB CONTENT                                        -->
                <!-- ============================================================ -->
                
                <div id="settings-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="settings-nav">
                    <div class="grid grid-cols-1 gap-lg">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">⚙️ Application Settings</h2>
                            </div>
                            
                            <div class="card-content">
                                <div class="grid grid-cols-2 gap-md">
                                    <div>
                                        <label class="block text-sm font-semibold mb-sm">Theme</label>
                                        <button class="btn btn-secondary w-full" data-action="toggle-theme">
                                            🌓 Toggle Dark/Light
                                        </button>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-semibold mb-sm">Auto-Analysis</label>
                                        <button class="btn btn-secondary w-full" data-action="toggle-auto-analysis">
                                            🤖 Enable Auto-Analysis
                                        </button>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-semibold mb-sm">Notifications</label>
                                        <button class="btn btn-secondary w-full" data-action="toggle-notifications">
                                            🔔 Enable Notifications
                                        </button>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-semibold mb-sm">Debug Mode</label>
                                        <button class="btn btn-secondary w-full" data-action="toggle-debug">
                                            🔍 Enable Debug Logs
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">📋 Keyboard Shortcuts</h3>
                            </div>
                            
                            <div class="card-content">
                                <div class="grid grid-cols-1 gap-sm text-sm">
                                    <div class="flex justify-between">
                                        <span>Start Analysis</span>
                                        <code>Ctrl + Shift + A</code>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Toggle Monitor</span>
                                        <code>Ctrl + Shift + M</code>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Open Side Panel</span>
                                        <code>Ctrl + Shift + S</code>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Quick Export</span>
                                        <code>Ctrl + Shift + E</code>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Close Modal</span>
                                        <code>Escape</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">ℹ️ System Information</h3>
                            </div>
                            
                            <div class="card-content">
                                <div class="grid grid-cols-2 gap-md text-sm">
                                    <div>
                                        <div class="font-semibold">Version</div>
                                        <div class="text-secondary">v3.4.0 Enterprise</div>
                                    </div>
                                    <div>
                                        <div class="font-semibold">Build</div>
                                        <div class="text-secondary" id="build-date">2025-09-20</div>
                                    </div>
                                    <div>
                                        <div class="font-semibold">User Agent</div>
                                        <div class="text-secondary text-xs" id="user-agent">Chrome Extension</div>
                                    </div>
                                    <div>
                                        <div class="font-semibold">Platform</div>
                                        <div class="text-secondary" id="platform-info">Chrome</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- ================================================================== -->
    <!-- MODAL SYSTEM                                                       -->
    <!-- ================================================================== -->
    
    <!-- Settings Modal -->
    <div id="settings-modal" class="modal-overlay" role="dialog" aria-labelledby="settings-modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="settings-modal-title" class="modal-title">⚙️ Advanced Settings</h2>
                <button class="modal-close focus-visible" data-action="close-modal" aria-label="Close settings">×</button>
            </div>
            
            <div class="modal-body">
                <p>Advanced configuration options will be available here.</p>
            </div>
        </div>
    </div>
    
    <!-- Generic Modal -->
    <div id="generic-modal" class="modal-overlay" role="dialog" aria-labelledby="generic-modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="generic-modal-title" class="modal-title">Information</h2>
                <button class="modal-close focus-visible" data-action="close-modal" aria-label="Close modal">×</button>
            </div>
            
            <div id="generic-modal-body" class="modal-body">
                <p>Modal content will appear here.</p>
            </div>
        </div>
    </div>
    
    <!-- ================================================================== -->
    <!-- NOTIFICATIONS CONTAINER                                            -->
    <!-- ================================================================== -->
    
    <div class="notifications-container" id="notifications-container" role="status" aria-live="polite">
        <!-- Dynamic notifications will be inserted here -->
    </div>
    
    <!-- ================================================================== -->
    <!-- JAVASCRIPT INTEGRATION                                             -->
    <!-- ================================================================== -->
    
    <script src="popup.js" defer></script>
    
    <!-- ================================================================== -->
    <!-- ACCESSIBILITY & SEO ENHANCEMENTS                                  -->
    <!-- ================================================================== -->
    
    <!-- Skip Links for Screen Readers -->
    <a href="#main-content" class="sr-only focus-visible">Skip to main content</a>
    <a href="#sidebar-nav" class="sr-only focus-visible">Skip to navigation</a>
    
    <!-- ARIA Live Regions -->
    <div aria-live="polite" aria-atomic="true" class="sr-only" id="status-announcements"></div>
    <div aria-live="assertive" aria-atomic="true" class="sr-only" id="error-announcements"></div>
    
    <!-- ================================================================== -->
    <!-- FINALIZATION v3.4.0                                               -->
    <!-- ================================================================== -->
    
    <!--
    ✅ WEBSCRAPING INTELLIGENCE SUITE: Popup Interface v3.4.0 Enterprise loaded
    🎯 ENTERPRISE UI FEATURES ACTIVE:
       • Component-based HTML architecture con Web Components ready
       • Responsive design con Flexbox + CSS Grid layouts  
       • Enterprise CSS system con Custom Properties para theming
       • Semantic HTML5 con ARIA accessibility completo
       • Dark/Light mode support con system preference detection
       • Real-time Dashboard para Connection Monitor (235+ conexiones)
       • Multi-Agent Status Grid (8 agentes especializados)
       • Platform-specific UI adaptation (Gemini/OpenAI/Anthropic)
       • Performance Metrics Panel con enterprise indicators
       • Advanced Export Interface con multiple formats
       • Modal system para Settings y configuración
       • Toast Notifications system para user feedback
       • Keyboard shortcuts support (Ctrl+Shift+A/M/S/E)
       • Side Panel integration ready
       • BEM methodology CSS organization
       • High contrast mode support
       • Reduced motion accessibility
       • Mobile-responsive design
    -->
    
</body>
</html>